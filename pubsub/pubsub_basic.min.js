let q={};export let subscribe=(e,s)=>(q[e]||=new Set).add(s),unsubscribe=(e,s)=>{1==arguments.length?delete q[e]:q[e]?.remove?.(s)},publish=(e,s)=>setTimeout((()=>send(e,s)),0);function send(e,s){for(let r of q[e]||[])try{r(e,s)}catch(e){console.log(e)}}